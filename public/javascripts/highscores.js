// Generated by CoffeeScript 1.12.7
(function() {
  $(document).ready(function() {
    var submitUserData;
    submitUserData = function(data) {
      return $.ajax({
        url: '/routes/user.php',
        type: 'POST',
        data: data
      });
    };
    return submitUserData({
      method: 'getAll'
    }).then(function(res) {
      var data, g1Data, g2Data, g3Data, g4Data, i, j, k, l, len, len1, len2, len3, len4, len5, m, n, ref, ref1, ref2, ref3, ref4, score, scores, sortDec, userData;
      userData = JSON.parse(res);
      g1Data = [];
      g2Data = [];
      g3Data = [];
      g4Data = [];
      for (i = 0, len = userData.length; i < len; i++) {
        data = userData[i];
        ref = data.scores.g1;
        for (j = 0, len1 = ref.length; j < len1; j++) {
          scores = ref[j];
          g1Data.push([scores[0], scores[1], data.username]);
        }
        ref1 = data.scores.g2;
        for (k = 0, len2 = ref1.length; k < len2; k++) {
          scores = ref1[k];
          g2Data.push([scores[0], scores[1], data.username]);
        }
        ref2 = data.scores.g3;
        for (l = 0, len3 = ref2.length; l < len3; l++) {
          scores = ref2[l];
          g3Data.push([scores[0], scores[1], data.username]);
        }
        ref3 = data.scores.g4;
        for (m = 0, len4 = ref3.length; m < len4; m++) {
          scores = ref3[m];
          g4Data.push([scores[0], scores[1], data.username]);
        }
      }
      sortDec = function(a, b) {
        var ref4;
        if (a[0] === b[0]) {
          return 0;
        } else {
          return (ref4 = a[0] < b[0]) != null ? ref4 : -{
            1: 1
          };
        }
      };
      g1Data.sort(sortDec);
      ref4 = g1Data.sort(sortDec);
      for (n = 0, len5 = ref4.length; n < len5; n++) {
        score = ref4[n];
        $('.g1').append($('<div class="col-lg-4"> <p>' + score[2] + '</p> </div> <div class="col-lg-4"> <p>' + score[0] + '</p> </div> <div class="col-lg-4"> <p class="date">' + score[1] + '</p> </div>'));
      }
      return console.log(g1Data, g2Data);
    });
  });

}).call(this);
