// Generated by CoffeeScript 1.12.7
(function() {
  $(document).ready(function() {
    var imagesTotal, load, loaded, segment;
    load = function() {
      $('#loader').css('opacity', 0);
      $('body').css('overflow-y', 'auto');
      return setTimeout(function() {
        return $('#loader').css('display', 'none');
      }, 1000);
    };
    imagesTotal = $('img').length;
    segment = 100 / imagesTotal;
    loaded = 0;
    $(document).imagesLoaded().progress(function(instance, image) {
      var animateText;
      animateText = function(from, to) {};
      if (image.isLoaded) {
        loaded += segment;
        setTimeout(function() {
          return $('#loader .loaderBar').css('width', loaded + '%');
        }, 1500);
      } else {
        $('.failed').append('<p>Fail to load: ' + image.img.src + '</p>');
      }
    }).done(function() {
      setTimeout(function() {
        return load();
      }, 2000);
    });
  });

}).call(this);
