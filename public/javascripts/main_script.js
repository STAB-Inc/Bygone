// Generated by CoffeeScript 1.12.7
(function() {
  $(document).ready(function() {
    var imagesTotal, load, loaded, navToggle, navToggled, segment, toHash, toLink;
    navToggle = function() {
      var navToggled;
      navToggled = !navToggled;
      $('nav#global').toggleClass('navOn');
      return $('.ionClose, .ionOpen').toggleClass('buttonActive');
    };
    navToggled = false;
    $('#navToggle, .navContainer').click(function() {
      return navToggle();
    });
    toHash = function(hash) {
      $('body').animate({
        'scrollTop': $(hash).offset().top
      }, 750);
    };
    toLink = function(link) {};
    $('a').click(function(e) {
      var href;
      e.preventDefault();
      href = $(this).attr('href');
      if (href.charAt(0) === '#') {
        return toHash(href);
      } else {
        $('#loader').show();
        $('#loader').css('opacity', 1);
        $('#loader').empty();
        return $('#loader').animate({
          'left': '0px'
        }, 50, function() {
          return setTimeout(function() {
            return window.location = href;
          }, 1000);
        });
      }
    });
    load = function() {
      $('#loader').css({
        'opacity': 0,
        'pointer-events': 'none'
      });
      if (window.location.pathname.split("/").pop() !== 'game.Shooting.html') {
        $('body').css('overflow-y', 'auto');
      }
      return setTimeout(function() {
        return $('#loader').css({
          'display': 'none',
          'left': -1 * $('#loader').width()
        });
      }, 1000);
    };
    imagesTotal = $('img').length;
    segment = 100 / imagesTotal;
    loaded = 0;
    $(document).imagesLoaded().progress(function(instance, image) {
      if (image.isLoaded) {
        loaded += segment;
        setTimeout(function() {
          return $('#loader .loaderBar').css('width', loaded + '%');
        }, 100);
      } else {
        $('.failed').append('<p>Fail to load: ' + image.img.src + '</p>');
      }
    }).done(function() {
      setTimeout(function() {
        return load();
      }, 500);
    });
    $('.close').click(function() {
      $(this).parent().hide();
    });
  });

}).call(this);
