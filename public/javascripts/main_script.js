// Generated by CoffeeScript 1.12.7
(function() {
  $(document).ready(function() {
    var imagesTotal, load, loaded, navToggle, navToggled, segment, toHash, toLink;
    navToggle = function() {
      var navToggled;
      navToggled = !navToggled;
      $('nav#global').toggleClass('navOn');
      return $('.ionClose, .ionOpen').toggleClass('buttonActive');
    };
    navToggled = false;
    $('#navToggle, .navContainer').click(function() {
      return navToggle();
    });
    toHash = function(hash) {
      $('body').animate({
        'scrollTop': $(hash).offset().top
      }, 750);
    };
    toLink = function(link) {};
    $('a').click(function(e) {
      var href;
      e.preventDefault();
      href = $(this).attr('href');
      if (href.charAt(0) === '#') {
        return toHash(href);
      } else {
        return console.log('standard link');
      }
    });
    load = function() {
      $('#loader').css({
        'opacity': 0,
        'pointer-events': 'none'
      });
      $('body').css('overflow-y', 'auto');
      return setTimeout(function() {
        return $('#loader').css('display', 'none');
      }, 1000);
    };
    imagesTotal = $('img').length;
    segment = 100 / imagesTotal;
    loaded = 0;
    $(document).imagesLoaded().progress(function(instance, image) {
      var animateText;
      animateText = function(from, to) {};
      if (image.isLoaded) {
        loaded += segment;
        setTimeout(function() {
          return $('#loader .loaderBar').css('width', loaded + '%');
        }, 1500);
      } else {
        $('.failed').append('<p>Fail to load: ' + image.img.src + '</p>');
      }
    }).done(function() {
      setTimeout(function() {
        return load();
      }, 2000);
    });
  });

}).call(this);
